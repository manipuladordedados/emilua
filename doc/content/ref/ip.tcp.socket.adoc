+++
title = "ip.tcp.socket"
+++

For now this is just an opaque type to be used elsewhere. Later down the road
there will be a proper binding for this Boost.Asio abstraction. However we need
to design a byte span Lua type before we get there.

[source,lua]
----
-- `ip.tcp.socket` public interface
local s = ip.tcp.socket.new()
s:connect(ip.address.new('1.2.3.4'), 12345)

-- ... and object being used elsewhere opaquely
s = http.socket.new(s)
local req = http.request.new()
local res = http.response.new()
req.headers['host'] = 'www.example.com'

s:write_request(req)
s:read_response(res)
----

== Functions

=== `new() -> ip.tcp.socket`

Constructor.

=== `connect(self, addr: ip.address, port: number)`

Initiate a connect operation and blocks current fiber until it completes or
errs.
